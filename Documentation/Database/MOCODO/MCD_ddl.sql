-- Generated by Mocodo 4.2.10

CREATE TABLE ANNEE (
  PRIMARY KEY (id_annee),
  id_annee VARCHAR(42) NOT NULL,
  annee    VARCHAR(42)
);

CREATE TABLE ELEVE (
  PRIMARY KEY (id_eleve),
  id_eleve     VARCHAR(42) NOT NULL,
  nom_eleve    VARCHAR(42),
  prenom_eleve VARCHAR(42),
  mail_eleve   VARCHAR(42),
  id_entp      VARCHAR(42) NOT NULL,
  id_tpro      VARCHAR(42) NOT NULL,
  id_promo     VARCHAR(42) NOT NULL,
  id_annee     VARCHAR(42) NOT NULL
);

CREATE TABLE ENTREPRISE (
  PRIMARY KEY (id_entp),
  id_entp  VARCHAR(42) NOT NULL,
  nom_entp VARCHAR(42),
  mail     VARCHAR(42)
);

CREATE TABLE PROFESSEUR (
  PRIMARY KEY (id_prof),
  id_prof  VARCHAR(42) NOT NULL,
  nom_prof VARCHAR(42),
  mail     VARCHAR(42)
);

CREATE TABLE PROMOTION (
  PRIMARY KEY (id_promo),
  id_promo  VARCHAR(42) NOT NULL,
  nom_promo VARCHAR(42),
  id_prof   VARCHAR(42) NOT NULL,
  UNIQUE (id_prof)
);

CREATE TABLE SALLE (
  PRIMARY KEY (id_salle),
  id_salle  VARCHAR(42) NOT NULL,
  nom_salle VARCHAR(42)
);

CREATE TABLE SECRETAIRE (
  PRIMARY KEY (id_sec),
  id_sec VARCHAR(42) NOT NULL,
  nom    VARCHAR(42),
  prenom VARCHAR(42),
  mail   VARCHAR(42)
);

CREATE TABLE SOUTENANCE (
  PRIMARY KEY (id_sout),
  id_sout      VARCHAR(42) NOT NULL,
  date_sout    VARCHAR(42),
  horaire_sout VARCHAR(42),
  id_salle     VARCHAR(42) NOT NULL,
  id_tpro      VARCHAR(42) NOT NULL,
  id_stag_alt  VARCHAR(42) NOT NULL,
  id_prof      VARCHAR(42) NOT NULL
);

CREATE TABLE STAGE_ALTERNANCE (
  PRIMARY KEY (id_stag_alt),
  id_stag_alt VARCHAR(42) NOT NULL,
  date_debut  VARCHAR(42),
  date_fin    VARCHAR(42),
  id_eleve    VARCHAR(42) NOT NULL,
  id_prof     VARCHAR(42) NOT NULL
);

CREATE TABLE TUTEUR_PRO (
  PRIMARY KEY (id_tpro),
  id_tpro  VARCHAR(42) NOT NULL,
  nom_tpro VARCHAR(42),
  id_entp  VARCHAR(42) NOT NULL
);

ALTER TABLE ELEVE ADD FOREIGN KEY (id_annee) REFERENCES ANNEE (id_annee);
ALTER TABLE ELEVE ADD FOREIGN KEY (id_promo) REFERENCES PROMOTION (id_promo);
ALTER TABLE ELEVE ADD FOREIGN KEY (id_tpro) REFERENCES TUTEUR_PRO (id_tpro);
ALTER TABLE ELEVE ADD FOREIGN KEY (id_entp) REFERENCES ENTREPRISE (id_entp);

ALTER TABLE PROMOTION ADD FOREIGN KEY (id_prof) REFERENCES PROFESSEUR (id_prof);

ALTER TABLE SOUTENANCE ADD FOREIGN KEY (id_prof) REFERENCES PROFESSEUR (id_prof);
ALTER TABLE SOUTENANCE ADD FOREIGN KEY (id_stag_alt) REFERENCES STAGE_ALTERNANCE (id_stag_alt);
ALTER TABLE SOUTENANCE ADD FOREIGN KEY (id_tpro) REFERENCES TUTEUR_PRO (id_tpro);
ALTER TABLE SOUTENANCE ADD FOREIGN KEY (id_salle) REFERENCES SALLE (id_salle);

ALTER TABLE STAGE_ALTERNANCE ADD FOREIGN KEY (id_prof) REFERENCES PROFESSEUR (id_prof);
ALTER TABLE STAGE_ALTERNANCE ADD FOREIGN KEY (id_eleve) REFERENCES ELEVE (id_eleve);

ALTER TABLE TUTEUR_PRO ADD FOREIGN KEY (id_entp) REFERENCES ENTREPRISE (id_entp);
